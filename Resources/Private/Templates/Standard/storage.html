<script type="module" src="{f:uri.resource(path:'JavaScript/es.js')}"></script>

<style type="text/css">
    body {
        margin: 0;
    }
</style>

<div style="height:100vh">
    <typo3-filestorage treeUrl="{treeUrl}" storages="{storagesJson}" selectedStorageUid="{selectedStorageUid}"></typo3-filestorage>
</div>


<script type="text/javascript">
    window.addEventListener('typo3-context-menu-item-click', function(e) {
        const contextItem = e.detail.contextItem;
        console.log(e);
        const type = contextItem.hasOwnProperty('type') && contextItem.type !== 'folder' ? '_FILE' : '_FOLDER';
        const uid = contextItem.hasOwnProperty('identifier') ? contextItem.identifier : contextItem.uid;

        const option = e.detail.option;
        console.log(option);
        top.TYPO3.InfoWindow.showItem(type, uid);
    });
</script>



import {Meta, Preview, Props, Story, withKnobs, withWebComponentsKnobs, action} from '@open-wc/demoing-storybook';
import {html} from 'lit-html';
import '../../../out-tsc/packages/filetree/src/typo3-filetree';
import '../../../out-tsc/packages/button/src/typo3-button';

<Meta
  title="Components/typo3-filetree"
  decorators={[withKnobs, withWebComponentsKnobs]}
  parameters={{ component: 'typo3-filetree', options: { selectedPanel: 'storybookjs/knobs/panel' } }}
  />

# Demo Typo3Filetree.ts

<Preview>
    <Story name="Filetree" height="220px">
    {html`
      <typo3-filetree
        style="height:100px;"
        expandedNodeIds="[0]"
        @typo3-node-select="${(e) => action(`typo3-node-select`)(e.detail)}"
        @typo3-node-expand="${(e) => action(`typo3-node-expand`)(e.detail)}"
        @typo3-node-collapse="${(e) => action(`typo3-node-collapse`)(e.detail)}"
        @typo3-node-contextmenu="${(e) => action(`typo3-node-contextmenu`)(e.detail)}"
        @typo3-node-rename="${(e) => action(`typo3-node-rename`)(e.detail)}"
        nodes='
        [
          {
            "stateIdentifier": "0_0",
            "identifier": 0,
            "depth": 0,
            "tip": "id=0",
            "icon": "apps-filetree-mount",
            "name": "New TYPO3 site",
            "nameSourceField": "title",
            "mountPoint": 0,
            "workspaceId": 0,
            "siblingsCount": 1,
            "siblingsPosition": 1,
            "allowDelete": true,
            "allowEdit": true,
            "hasChildren": true,
            "isMountPoint": true,
            "loaded": true
          },
          {
            "stateIdentifier": "0_1",
            "identifier": 1,
            "depth": 1,
            "tip": "id=1 - Hidden",
            "icon": "apps-filetree-folder-default",
            "name": "Dummy Page",
            "nameSourceField": "title",
            "mountPoint": 0,
            "workspaceId": 1,
            "siblingsCount": 1,
            "siblingsPosition": 1,
            "allowDelete": true,
            "allowEdit": true,
            "overlayIcon": "overlay-hidden",
            "hasChildren": true
          },
          {
            "stateIdentifier": "1_2",
            "identifier": 2,
            "depth": 2,
            "tip": "id=2 - Hidden",
            "icon": "apps-filetree-folder-default",
            "name": "Dummy Page Child",
            "nameSourceField": "title",
            "mountPoint": 0,
            "workspaceId": 1,
            "siblingsCount": 0,
            "siblingsPosition": 1,
            "allowDelete": true,
            "allowEdit": true,
            "overlayIcon": "overlay-hidden"
          }
        ]
      '></typo3-filetree>
    `}
    </Story>
</Preview>

# API

<Props of="typo3-filetree" />
